It is hard to write modular, extensible code and proofs.
We have presented a solution that equips a proof assistant with
linguistic facilities for family polymorphism.
The language design ensures that the expressive power brought by family polymorphism
is in harmony with the strictness of a proof assistant, while incurring
low cognitive overhead and allowing an idiomatic programming experience.
We implement the design via a translation to Coq and demonstrate its applicability
using case studies.
A novel dependent type theory formalizes the core aspects of the language mechanism
and is shown to enjoy consistency and canonicity.
Generalizing the mechanism to support nested family polymorphism and
scaling it to sizable proof engineering efforts make exciting directions for
future work.