\begin{abstract}
\input{abstract}
\end{abstract}

\maketitle

% lstlisting coq style (inspired from a file of Assia Mahboubi)
% https://tex.stackexchange.com/questions/434523/coq-syntax-highlighting
\section{Introduction}
\label{sec:intro}
\input{introduction.tex}

% Concept 
% Contribution

\section{Design Requirements and Challenges}
% what feature we want
% what problem/formalization we want to achieve
% Before/After Comparison of examples (with/without Fampoly)
\label{sec:background+challenge}
\input{challenge.tex}

\section{Language Design}
% we need to make this section before Metatheory
% because a lot of our formulation in the metatheory
%   is inspired by the implementation
\label{sec:lang-design}
\input{lang-design.tex}

\section{Compiling Family Polymorphism to Parameterized Modules}
% we need to make this section before Metatheory
% because a lot of our formulation in the metatheory
%   is inspired by the implementation
\label{sec:coqimpl}
\input{coqimpl.tex}

\section{\TT: A Core Dependent Type Theory}
\label{sec:metatheory2}
\input{metatheory-condensed.tex}


\section{Case Studies}
\label{sec:casestudies}
\input{casestudies.tex}

\section{Related Work}\label{sec:related-work}
\input{related-work.tex}

\section{Conclusion}
\label{sec:conclusion}

\input{conclusion.tex}

\setlength{\bibsep}{.8ex}
\bibliographystyle{tex-macros/ACM-Reference-Format.bst}
\bibliography{refs.bib}

\ifreport

\appendix

\newpage

\section{More Typing Rules for \TT}
\input{all-typing-rule.tex}

\newpage

\section{Using \TT's Linkage Transformers to Model a Derived Family}
\input{stlc-linkTran-typing.tex}

\newpage

\section{The Complete Formalization and Proofs Written in Agda Syntax}
\label{sec:agda-files}
\input{agda-files.tex}

%\section{Metatheory, in detail}
%\label{sec:metatheory}
%\input{metatheory.tex}
%
%\section{Example in Metatheory}
%\label{sec:coqexample}
%\input{coq-example.tex}

\fi