\begin{abstract}
\input{abstract}
\end{abstract}

\maketitle

\section{Introduction}
\label{sec:intro}
\input{introduction.tex}

% Concept 
% Contribution

\section{Language Design}
% what feature we want
% what problem/formalization we want to achieve
% Before/After Comparison of examples (with/without Fampoly)
\label{sec:lang-design}
\input{lang-design.tex}



% Macro for all use

\newcommand{\denotes}[1]{{\llbracket {#1} \rrbracket}}
\newcommand{\denotesS}[1]{{{\llbracket {#1} \rrbracket}_S}}
\newcommand{\goodCtx}[2]{{ {#1} \ \vdash }}
\newcommand{\goodType}[3]{{ {#1} \vdash {#2} }}
\newcommand{\goodTerm}[3]{{ {#1} \vdash {#2} : {#3} }}
\newcommand{\goodSub}[3]{{ {#1} \vdash {#2} : {#3} }}
\newcommand{\goodSig}[3]{{ {#1} \vdash {#2} \ \  Sig^{#3} }}
\newcommand{\goodWSig}[3]{{ {#1} \vdash {#2} \ \ WSig^{#3} }}
\newcommand{\goodSeal}[4]{{ {#1} \vdash {#2} : {#3} \  |\  {#4} }}
\newcommand{\goodInh}[4]{{ {#1} \vdash {#2} : {#3} \twoheadrightarrow {#4}}}
\newcommand{\nat}{\mathbf{N}}

\newcommand{\cU}{{\mathcal{U}}}
\newcommand{\cB}{{\mathbb{B}}}
\newcommand{\cL}{{\mathcal{L}}}
\newcommand{\cC}{{\mathcal{C}}}
\newcommand{\cCt}{{\mathcal{C}_t}}
\newcommand{\bW}{{\mathbb{W}}}

\section{Prototypical Coq Implementation}
% we need to make this section before Metatheory
% because a lot of our formulation in the metatheory
%   is inspired by the implementation
\label{sec:coqimpl}
\input{coqimpl.tex}

\section{Metatheory}

\label{sec:metatheory}
\input{metatheory.tex}




\section{Example}\label{sec:coqexample}
\input{coq-example.tex}

\section{Related Work}\label{sec:related-work}
\input{related-work.tex}

\section{Conclusion}
\label{sec:conclusion}

\setlength{\bibsep}{.8ex}
\bibliographystyle{tex-macros/ACM-Reference-Format.bst}
\bibliography{refs.bib}

\appendix

\section{Metatheory in (pseudo-)Agda}
We make four agda source code files (publicly and anonymously) openly avaliable, and they include the corresponding QIIT syntax definition and models. 

For syntax, please check \\ \href{https://drive.google.com/file/d/1aoG67rmXzP_x1MvZCIN3do0sucyqjwkn/view?usp=sharing}{https://drive.google.com/file/d/1aoG67rmXzP_x1MvZCIN3do0sucyqjwkn/view?usp=sharing}. This is done by mainly following the formulation \citet{altkap2016}. This is also very close to \citet{coquand2018canonicity} and \citet{sterling2019algebraic} but we formulate our syntax in a type-theoretic framework.

For syntactical translation, please check \\ \href{https://drive.google.com/file/d/1pMqn8DS4T4jiCubzk3HgMANjrfKpcGlI/view?usp=sharing}{https://drive.google.com/file/d/1pMqn8DS4T4jiCubzk3HgMANjrfKpcGlI/view?usp=sharing}. This is the first QIIT-model we give. A QIIT-model can be consider as an arbitrary mapping from the QIIT data(our syntax in this case), also respecting the quotient(judgemental equality in this case). Here we use (a subpart of) QIIT data itself as the destination of the mapping. 

For consistency model, please check \\ \href{https://drive.google.com/file/d/1pNhnn125P5byAHDaSIlpbxMvr1F-9FRo/view?usp=sharing}{https://drive.google.com/file/d/1pNhnn125P5byAHDaSIlpbxMvr1F-9FRo/view?usp=sharing}. This is following the standard model from \citet{altkap2016,kaposi2017type,kaposi2019gluing}.

For canonicity model, please check \\ \href{https://drive.google.com/file/d/1R6C7QNfyu8fbl6LE2ruvpqZ_ZDSRVo0c/view?usp=sharing}{https://drive.google.com/file/d/1R6C7QNfyu8fbl6LE2ruvpqZ_ZDSRVo0c/view?usp=sharing}. This is mainly following \citet{coquand2018canonicity,sterling2019algebraic}, but we carried out our argument in a type-theortic framework.  We call it canonicity model to emphasize that it is a model used to prove canonicity, it is also called reducibility argument, as an instance of proof-relevant logical relation. This argument can be considered as a verbose/more concrete version of \citet{kaposi2019gluing}.

We suggest using editors with proper syntax highlighting, e.g. VSCode with agda-code plugins, to read these source files.