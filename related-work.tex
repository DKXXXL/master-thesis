This section discusses related work.




\textbf{Modular Mechanized Metatheory: Linguistic Approach} We group the work that achieves modular mechanized metatheory by extending surface syntax of proof assistants to provide better abstraction as \textit{linguistic approach}. 

The closest work to ours might be \citet{boite2004proof}--they try to support \textit{extended} inductive type and related proof reuse in Coq. This biggest difference lies in our (incomplete) adaption of Family Polymorphism -- apart from supporting proof reuse and extension by inheritance, we also support implementation swapping using overriding, and we also argue that Family Polymorphism can provide a better and cleaner way of organizing mechanized metatheory development a well as solving related expression problem. The other difference lies in the handling of the extension of the inductive type. In our paradigm, the discussion of \textit{extensible} inductive type and \textit{partial recursor} is unavoidable, which characterizes all possible extension of a given inductive type. In their work, without using Family to organized the code, the extended inductive type can be considered as a different inductive type than the original one, possibly leading to more expression problem~\cite{wadler-ep}. The situation is similar for \citet{levin2003tinkertype}---they aim for modular manipulation of metatheory but didn't consider expression problem.  What's more, our implementation is based on Coq plugin and is thus potentially more friendly to Coq community.
% Another similar work is proof weaving \citep{mulhern2006proof} but I don't see a evaluation section in that paper


\textbf{Modular Mechanized Metatheory: Semantic Approach} We group the work using the semantic as encoding (e.g. Church Encoding, datatype-generic programming) to achieve certain design patterns without modify the surface syntax of the proof assistants as \textit{semantic approach}, that includes \citet{delaware2013,forsta2020,liwei2022,schwaab2013modular, keuchel2013generic} and so on. Their advantages are various: their techniques are more general and thus can be applied across different (dependent-typed) proof assistants and their technique can be easily distributed like a library and thus doesn't need to alter the core of the proof assistants. The downsides are mainly about the threshold: they are not friendly for the junior Coq development and these indirect encoding of datatype might lead to worse readability and accessibility compared to the direct style like ours.




\textbf{Solution to The Expression Problem}
% Have no idea how to write this :(