We follow the reducibility argument from \citep{coquand2018canonicity,sterling2019algebraic, kaposi2019gluing} to construct the canonicity model. We will first specify the formulation of the most basic canonicity theorem. 

\begin{theorem}[Canonicity]
  For a closed boolean term $\goodTerm{\cdot}{t}{\mathbb{B}}$, we have $\goodTerm{\cdot}{t \equiv tt}{\mathbb{B}}$ or $\goodTerm{\cdot}{t \equiv ff}{\mathbb{B}}$ hold.
\end{theorem}

Canonicity is one of the basic criteria to consider a dependent type theory to be ``a programming language or as a computational foundation for mathematics''\footnote{See nlab explanation: \href{https://ncatlab.org/nlab/show/canonical+form}{Canonical Form}}.
We can even argue that, if this theorem is proven in a constructive meta-logic\footnote{QIIT does have computational content\citep{altenkirch2016type}}, 
then by Curry-Howard Correspondence, this theorem provides a big-step interpreter for closed term of boolean type.

Now we sketch out the big picture of the proof. The canonicity model $"Tm"^C~\Gamma^C~"T"^C$ will map each syntax piece $("t : Tm Γ T") \mapsto "(t, tₚ) :" "Tm"^C~\Gamma^C~"T"^C = \sum~("t : Tm Γ T")."Tm"_p~\Gamma^C~"T"^C~"t"$ to a dependent pair\footnote{This $"Tm"_p$ is usually called dependent model.}, of which the first part will be the same as the input syntax. Using this mapping on closed boolean term $"t : Tm ⋅ "\mathbb{B}$ will give us $"Tm"_p~\cdot^C~\mathbb{B}^C~"t"$, which will unfolds to our final goal $"t" \equiv "tt" + "t" \equiv "ff"$. Roughly, this can read as ``every closed boolean term is reducible''.  Thus once we can ``propagate'' $(\cdot)^C$ into every syntactic piece, and construct this model, we are done. In our (fake) Agda formulation, we use $(\cdot)_2$ to replace the notation of $(\cdot)^C$ because we consider most parts of this model are actually a dependent pair.

Another helpful analogy of the canonicity model is that $"Tm"_p~\Gamma^C~"T"^C~"t"$ can be understood as $"t" \in \{$ Reducible Terms of type $T$ (and $T_p$) in context $\Gamma$ (and $\Gamma_p$) $\}$. The latter is more conventional and the former can be understood as type theoretic encoding of the latter\footnote{We usually use predicate to encode "belong to" relation in type theory}. From this perspective, this part of the canonicity model is quite similar to how conventional (proof-irrelevant) logical relation is carried out\citep{skorstengaard2019introduction} --
using the terminology of the conventional formulation, $\Gamma_p$ will be the set of substitution into closed reducible terms, and we will prove $t[\gamma] \in T_p$, a set of closed reducible term of type $T$ when $\gamma \in \Gamma_p$.

The proof can be found in appendix.

With the logical relation and the help of eta rule, we figure out the following canonical form
\begin{theorem}[Canonical Forms].
  \begin{itemize}
    \item if $\goodTerm{\cdot}{t}{El~("W"~*)}$ with $\goodTerm{\cdot}{*}{\bW~\sigma}$ and $\goodWSig{\cdot}{\sigma}{n}$, then $\goodTerm{\cdot}{t \equiv "Wsup"~j~a~b}{El~("W"~*)}$ for some $\goodTerm{\cdot}{a}{A}$ and $\goodTerm{\cdot, B[(id, a)]}{b}{El~("W"~*)}$ and $j < n$
    \item if $\goodTerm{\cdot}{t}{\mathbb{B}}$ then $\goodTerm{\cdot}{t \equiv "tt"}{\mathbb{B}}$ or $\goodTerm{\cdot}{t \equiv "ff"}{\mathbb{B}}$ 
    \item if $\goodTerm{\cdot}{t}{\cL\sigma}$ with $\goodSig{\cdot}{\sigma}{n}$, then $\goodTerm{\cdot}{t \equiv \mu^+~o~t}{\cL\sigma}$ 
    
      $\quad$ for some $\goodTerm{\cdot}{o}{\cL(p_1\nu~\sigma)}$ and $\goodTerm{\cdot, p_1\nu'~\sigma}{t}{p_2\nu~\sigma}$
    \item if $\goodTerm{\cdot}{t}{\Sigma A B}$ then $\goodTerm{\cdot}{t = (a, b)}{\Sigma A B}$ with $\goodTerm{\cdot}{a}{A}$ and $\goodTerm{\cdot}{b}{B[(id, a)]}$
    \footnote{We emphasize the last one because $\cCt t$ is a dependent pair}
  \end{itemize}
\end{theorem}

% the canonical form of inductive type, linkage and boolean 