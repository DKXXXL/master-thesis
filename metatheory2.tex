In this section, we start by introducing the complete formulation of the syntax of \TT, 
and then we detail the models and proofs for syntactic translation (that translate away linkages), 
consistency and canonicity. 

\subsection{Warm Up: Review Declarative Syntax for MLTT}
We begin with a review of MLTT as \TT can be roughly considered as MLTT with linkages.
For our syntax, we work in an intrinsic-typed setting, so there is no un-typed preterms appearing anywhere. We introduce judgemental equality ($\equiv$)
for derivations (of all kinds of judgements). In other words, we will have judgemental equality between terms, 
contexts and explicits substitutions. 
We will make sure all the introduced models and proofs respecting judgemental equality. In other words, we will consider our syntax as the result of taking quotient by these judgemental equality.

\input{all-mltt-typing}

% Copy and Paste Intuition of MLTT from other places to here
\subsection{Declarative Syntax for \TT : an MLTT variant with Linkages}
Compared to MLTT, \TT has 3 more judgements about signatures and linkage transformers. Moreover, the linkage transformer can be considered as a syntactic sugar (or library functions) (we will show why at the end). 
Since it is a syntactic sugar, we will not consider about the linkage transformers during meta-theoretic reasoning.


\input{all-fmltt-typing}

% Copy and Paste Intuition of FMLTT from other places to here


% Deal with intuition



\subsection{Syntactic Translation to get rid of Linkages}

\input{syn-translate.tex}

% \subsection{Standard Model for Consistency}

% \input{standardmodel.tex}


\subsection{Proof Relevant Logical Relation for Canonicity}
\input{canonicitymodel.tex}

\subsection{Linkage Transformer as Syntax Sugar}
Observe the syntax, linkage transformer and its judgement is defined above 
other parts. 

So we can inductively define the syntax sugar $\goodInh{\Gm}{h}{\lsig_1}{\lsig_2}$ using constructors $\InhExt{}{}$, $\InhOv{}{}$, $\InhInh{}$, $\InhNest{}{}$. Then we define the $\inh{h}{\ell}$ and the explicit substitution for linkage transformer $\sub{h}{\gm}$ by induction on the structure of linkage transformer $h$, based on the equality
%\EDJ{Add substitution equalities for linkage transformers} 
given in the syntax. In that way, the explicit substituon for linkage transformer becomes meta-level substitution again; and $\inh{h}{\ell}$ is not itself a syntax but a meta-level computation that leads to a syntax.